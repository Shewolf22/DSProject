#include<stdio.h>
#define MAX 100
typedef struct book
{
        char title[MAX];
         char author[MAX];
             char ID[MAX];
       
}book;
 struct node   // a doubly linked list 
        {
           char bookid;
           book node *next,*prev;
        }

int main()          //***do not focus on this main fn--it is just to show the function calling***
{   char nbi;
    int n;
    node *head;
    head=NULL;
    head=issue_rec(ID);
    printf("enter the book id of the book to check the no.of times the book was issued:");
    scanf("%s",&nbi);
    n=ntbe(nbi,&head);
    //display n
}
    
    
    
    
   node *issue_record(bi)  //bi- book id---this fuction creates and maintains a linked list of the issue records of library****whenever a new book is issued, this function needs to be called
    {  
        node *p,*q;
        p=(node *)malloc(sizeof(node));
        p->bookid=bi;
        if(head==NULL)
        {
        head=p;
        p->prev=NULL;
        p->next=NULL;
        }
        else
        {
            q=head;
            while(q->next!=head)
            {
                q=q->next;
            }
            q->next=p;
            p->prev=q;
            p->next=NULL;
         }
        return(head);
    }
    
int ntbe(nbi,head)    //THIS FN CALCULATES THE NUMBER OF TIMES A BOOK IS ISSUES ----IT ACCEPTS THE BOOKID FOR THIS PURPOSE
{
   node *p;
   p=head;
   int count=0;
         while(p->next!=NULL)
        {
             if(p->bookid==nbi)
             {
                count++;
            }
            p=p->next;
        }
        
    if(p->bookid==nbi)
    {
        count++;
    }
    return count;
}







